<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<title>Roku App</title>
 
</head>
<body>
  <main id="app">
	
	<nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
		<div class="container">
				<router-link :to="{ name: 'main'}"><a id="headName" class="navbar-brand">ROKU FLASHBACK</a></router-link>
		  
		  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
			  <li class="nav-link" v-for="nav in navlist">
				<router-link :to="nav.url">{{ nav.name }}</router-link>
				</li>
				<li class="nav-link" v-if="authenticated"><router-link :to="{ name: 'userlists'}">Users</router-link></li>
			  <li class="nav-link" v-if="authenticated" v-on:click="logout()">logout</li>
			  <li class="nav-link" v-else> <router-link :to="{ name: 'login'}">login</router-link></li>				
			</ul>
		  </div>
		</div>
	  </nav>
		
		<div class="toast float-right" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2500">
			<div class="toast-header">
				<strong class="mr-auto">App Error</strong>
				
				<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="toast-body">
				<i class="fas fa-exclamation-triangle"></i> <span>{{ toastmessage }}</span> 
			</div>
		</div>
	
	
	<!-- first thing in component templates should be a container -->
	<router-view @adultauthenticated="setadultAuthenticated" @authenticated="setAuthenticated" @autherror="popError"/>	

	</main>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

	<script type="module" src="js/main.js"></script>

	<script>
		$('.toast').toast();
	</script>
</body>
</html>